<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 10 SWATFarmR Management Schedules | OPTAIN CS-10</title>
  <meta name="description" content="A description of the project setup for OPTAIN case study 10" />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 10 SWATFarmR Management Schedules | OPTAIN CS-10" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://moritzshore.github.io/optain-cs10/figures/banner.png" />
  <meta property="og:description" content="A description of the project setup for OPTAIN case study 10" />
  <meta name="github-repo" content="moritzshore/optain-cs10" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 10 SWATFarmR Management Schedules | OPTAIN CS-10" />
  
  <meta name="twitter:description" content="A description of the project setup for OPTAIN case study 10" />
  <meta name="twitter:image" content="https://moritzshore.github.io/optain-cs10/figures/banner.png" />

<meta name="author" content="Moritz Shore, Csilla Farkas" />


<meta name="date" content="2023-06-05" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="model-parameterization.html"/>
<link rel="next" href="model-verification.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.1.2/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.1.2/leaflet-providers-plugin.js"></script>
<link href="libs/HomeButton-0.0.1/home-button.css" rel="stylesheet" />
<script src="libs/HomeButton-0.0.1/home-button.js"></script>
<script src="libs/HomeButton-0.0.1/easy-button-src.min.js"></script>
<script src="libs/clipboard-0.0.1/setClipboardText.js"></script>
<link href="libs/mapviewCSS-0.0.1/mapview-popup.css" rel="stylesheet" />
<link href="libs/mapviewCSS-0.0.1/mapview.css" rel="stylesheet" />
<script src="libs/plotly-binding-4.10.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.28/datatables.js"></script>
<link href="libs/dt-core-1.13.4/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.13.4/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.13.4/js/jquery.dataTables.min.js"></script>
<link href="libs/dt-ext-scroller-1.13.4/css/scroller.dataTables.min.css" rel="stylesheet" />
<script src="libs/dt-ext-scroller-1.13.4/js/dataTables.scroller.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">The OPTAIN-CS10 Project</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="1" data-path="model-setup-with-swatbuildr.html"><a href="model-setup-with-swatbuildr.html"><i class="fa fa-check"></i><b>1</b> Model setup with SWATBuildR</a>
<ul>
<li class="chapter" data-level="1.1" data-path="model-setup-with-swatbuildr.html"><a href="model-setup-with-swatbuildr.html#buildr-setup"><i class="fa fa-check"></i><b>1.1</b> BuildR Setup</a></li>
<li class="chapter" data-level="1.2" data-path="model-setup-with-swatbuildr.html"><a href="model-setup-with-swatbuildr.html#processing-input-data"><i class="fa fa-check"></i><b>1.2</b> Processing input data</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="model-setup-with-swatbuildr.html"><a href="model-setup-with-swatbuildr.html#high-resolution-digital-elevation-model-dem"><i class="fa fa-check"></i><b>1.2.1</b> High-Resolution Digital Elevation Model (DEM)</a></li>
<li class="chapter" data-level="1.2.2" data-path="model-setup-with-swatbuildr.html"><a href="model-setup-with-swatbuildr.html#processing-the-basin-boundary"><i class="fa fa-check"></i><b>1.2.2</b> Processing the Basin Boundary</a></li>
<li class="chapter" data-level="1.2.3" data-path="model-setup-with-swatbuildr.html"><a href="model-setup-with-swatbuildr.html#processing-the-land-layer"><i class="fa fa-check"></i><b>1.2.3</b> Processing the Land layer</a></li>
<li class="chapter" data-level="1.2.4" data-path="model-setup-with-swatbuildr.html"><a href="model-setup-with-swatbuildr.html#processing-the-channels"><i class="fa fa-check"></i><b>1.2.4</b> Processing the Channels</a></li>
<li class="chapter" data-level="1.2.5" data-path="model-setup-with-swatbuildr.html"><a href="model-setup-with-swatbuildr.html#processing-the-dem"><i class="fa fa-check"></i><b>1.2.5</b> Processing the DEM</a></li>
<li class="chapter" data-level="1.2.6" data-path="model-setup-with-swatbuildr.html"><a href="model-setup-with-swatbuildr.html#processing-soil-data"><i class="fa fa-check"></i><b>1.2.6</b> Processing soil data</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="model-setup-with-swatbuildr.html"><a href="model-setup-with-swatbuildr.html#calculating-contiguous-object-connectivity"><i class="fa fa-check"></i><b>1.3</b> Calculating Contiguous Object Connectivity</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="model-setup-with-swatbuildr.html"><a href="model-setup-with-swatbuildr.html#calculating-land-unit-connectivity"><i class="fa fa-check"></i><b>1.3.1</b> Calculating land unit connectivity</a></li>
<li class="chapter" data-level="1.3.2" data-path="model-setup-with-swatbuildr.html"><a href="model-setup-with-swatbuildr.html#calculating-channelreservoir-connectivity"><i class="fa fa-check"></i><b>1.3.2</b> Calculating channel/reservoir connectivity</a></li>
<li class="chapter" data-level="1.3.3" data-path="model-setup-with-swatbuildr.html"><a href="model-setup-with-swatbuildr.html#checking-the-water-objects-for-infinite-loops"><i class="fa fa-check"></i><b>1.3.3</b> Checking the water objects for infinite loops</a></li>
<li class="chapter" data-level="1.3.4" data-path="model-setup-with-swatbuildr.html"><a href="model-setup-with-swatbuildr.html#terrain-properties"><i class="fa fa-check"></i><b>1.3.4</b> Terrain properties</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="model-setup-with-swatbuildr.html"><a href="model-setup-with-swatbuildr.html#generate-swat-input"><i class="fa fa-check"></i><b>1.4</b> Generate SWAT+ input</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="model-setup-with-swatbuildr.html"><a href="model-setup-with-swatbuildr.html#generate-land-object-swat-input-tables"><i class="fa fa-check"></i><b>1.4.1</b> Generate land object SWAT+ input tables</a></li>
<li class="chapter" data-level="1.4.2" data-path="model-setup-with-swatbuildr.html"><a href="model-setup-with-swatbuildr.html#generate-water-object-swat-input-tables"><i class="fa fa-check"></i><b>1.4.2</b> Generate water object SWAT+ input tables</a></li>
<li class="chapter" data-level="1.4.3" data-path="model-setup-with-swatbuildr.html"><a href="model-setup-with-swatbuildr.html#build-aquifer-input"><i class="fa fa-check"></i><b>1.4.3</b> Build aquifer input</a></li>
<li class="chapter" data-level="1.4.4" data-path="model-setup-with-swatbuildr.html"><a href="model-setup-with-swatbuildr.html#add-point-source-inputs"><i class="fa fa-check"></i><b>1.4.4</b> Add point source inputs</a></li>
<li class="chapter" data-level="1.4.5" data-path="model-setup-with-swatbuildr.html"><a href="model-setup-with-swatbuildr.html#create-swat-sqlite-database"><i class="fa fa-check"></i><b>1.4.5</b> Create SWAT+ sqlite database</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="climate-inputs-and-weather-generator.html"><a href="climate-inputs-and-weather-generator.html"><i class="fa fa-check"></i><b>2</b> Climate inputs and weather generator</a>
<ul>
<li class="chapter" data-level="2.1" data-path="climate-inputs-and-weather-generator.html"><a href="climate-inputs-and-weather-generator.html#preparation-and-loading-data"><i class="fa fa-check"></i><b>2.1</b> Preparation and loading data</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="climate-inputs-and-weather-generator.html"><a href="climate-inputs-and-weather-generator.html#required-packages"><i class="fa fa-check"></i><b>2.1.1</b> Required packages</a></li>
<li class="chapter" data-level="2.1.2" data-path="climate-inputs-and-weather-generator.html"><a href="climate-inputs-and-weather-generator.html#load-in-the-files-and-load-svatools-template"><i class="fa fa-check"></i><b>2.1.2</b> Load in the file(s) and load svatools template</a></li>
<li class="chapter" data-level="2.1.3" data-path="climate-inputs-and-weather-generator.html"><a href="climate-inputs-and-weather-generator.html#proof-the-station"><i class="fa fa-check"></i><b>2.1.3</b> Proof the station</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="climate-inputs-and-weather-generator.html"><a href="climate-inputs-and-weather-generator.html#creating-the-weather-generator"><i class="fa fa-check"></i><b>2.2</b> Creating the weather generator</a></li>
<li class="chapter" data-level="2.3" data-path="climate-inputs-and-weather-generator.html"><a href="climate-inputs-and-weather-generator.html#adding-weather-data-to-swat-project"><i class="fa fa-check"></i><b>2.3</b> Adding weather data to SWAT+ project</a></li>
<li class="chapter" data-level="2.4" data-path="climate-inputs-and-weather-generator.html"><a href="climate-inputs-and-weather-generator.html#adding-atmospheric-deposition"><i class="fa fa-check"></i><b>2.4</b> Adding Atmospheric deposition</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="writing-swat-input-files.html"><a href="writing-swat-input-files.html"><i class="fa fa-check"></i><b>3</b> Writing SWAT+ Input Files</a>
<ul>
<li class="chapter" data-level="3.1" data-path="writing-swat-input-files.html"><a href="writing-swat-input-files.html#loading-the-project-in-swat-editor"><i class="fa fa-check"></i><b>3.1</b> Loading the project in SWAT+ Editor</a></li>
<li class="chapter" data-level="3.2" data-path="writing-swat-input-files.html"><a href="writing-swat-input-files.html#swat-test-run"><i class="fa fa-check"></i><b>3.2</b> SWAT+ Test Run</a></li>
<li class="chapter" data-level="3.3" data-path="writing-swat-input-files.html"><a href="writing-swat-input-files.html#link-aquifers-and-channels-with-geomorphic-flow"><i class="fa fa-check"></i><b>3.3</b> Link aquifers and channels with geomorphic flow</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="crop-map-generation.html"><a href="crop-map-generation.html"><i class="fa fa-check"></i><b>4</b> Crop Map Generation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="crop-map-generation.html"><a href="crop-map-generation.html#calculating-field-area"><i class="fa fa-check"></i><b>4.1</b> Calculating Field Area</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="crop-map-generation.html"><a href="crop-map-generation.html#calculate-field-area-and-assign-ids"><i class="fa fa-check"></i><b>4.1.1</b> Calculate Field Area and Assign IDs</a></li>
<li class="chapter" data-level="4.1.2" data-path="crop-map-generation.html"><a href="crop-map-generation.html#calculate-field-area-and-assign-ids-1"><i class="fa fa-check"></i><b>4.1.2</b> Calculate Field area and assign IDs</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="crop-map-generation.html"><a href="crop-map-generation.html#generating-the-crop-rotation"><i class="fa fa-check"></i><b>4.2</b> Generating the Crop Rotation</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="crop-map-generation.html"><a href="crop-map-generation.html#tidy-up-the-source-data"><i class="fa fa-check"></i><b>4.2.1</b> Tidy up the source data:</a></li>
<li class="chapter" data-level="4.2.2" data-path="crop-map-generation.html"><a href="crop-map-generation.html#tidy-up-the-buildr-output"><i class="fa fa-check"></i><b>4.2.2</b> Tidy up the BuildR output</a></li>
<li class="chapter" data-level="4.2.3" data-path="crop-map-generation.html"><a href="crop-map-generation.html#field-classification"><i class="fa fa-check"></i><b>4.2.3</b> Field classification</a></li>
<li class="chapter" data-level="4.2.4" data-path="crop-map-generation.html"><a href="crop-map-generation.html#extrapolating-the-crop-rotation"><i class="fa fa-check"></i><b>4.2.4</b> Extrapolating the Crop Rotation</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="crop-map-generation.html"><a href="crop-map-generation.html#merging-crop-rotation-with-buildr-output"><i class="fa fa-check"></i><b>4.3</b> Merging crop rotation with BuildR output</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="landuse.lum-update.html"><a href="landuse.lum-update.html"><i class="fa fa-check"></i><b>5</b> Landuse.lum update</a>
<ul>
<li class="chapter" data-level="5.1" data-path="landuse.lum-update.html"><a href="landuse.lum-update.html#data-preperation"><i class="fa fa-check"></i><b>5.1</b> Data preperation</a></li>
<li class="chapter" data-level="5.2" data-path="landuse.lum-update.html"><a href="landuse.lum-update.html#assigning-landuse-values"><i class="fa fa-check"></i><b>5.2</b> Assigning landuse values</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="landuse.lum-update.html"><a href="landuse.lum-update.html#setting-cal_group"><i class="fa fa-check"></i><b>5.2.1</b> Setting <code>cal_group</code></a></li>
<li class="chapter" data-level="5.2.2" data-path="landuse.lum-update.html"><a href="landuse.lum-update.html#setting-plnt_com"><i class="fa fa-check"></i><b>5.2.2</b> Setting <code>plnt_com</code></a></li>
<li class="chapter" data-level="5.2.3" data-path="landuse.lum-update.html"><a href="landuse.lum-update.html#setting-mgt"><i class="fa fa-check"></i><b>5.2.3</b> Setting <code>mgt</code></a></li>
<li class="chapter" data-level="5.2.4" data-path="landuse.lum-update.html"><a href="landuse.lum-update.html#setting-urb_ro"><i class="fa fa-check"></i><b>5.2.4</b> Setting <code>urb_ro</code></a></li>
<li class="chapter" data-level="5.2.5" data-path="landuse.lum-update.html"><a href="landuse.lum-update.html#setting-urban"><i class="fa fa-check"></i><b>5.2.5</b> Setting <code>urban</code></a></li>
<li class="chapter" data-level="5.2.6" data-path="landuse.lum-update.html"><a href="landuse.lum-update.html#setting-mannings-n-ovn"><i class="fa fa-check"></i><b>5.2.6</b> Setting Manning’s n (<code>ovn</code>)</a></li>
<li class="chapter" data-level="5.2.7" data-path="landuse.lum-update.html"><a href="landuse.lum-update.html#setting-cn2"><i class="fa fa-check"></i><b>5.2.7</b> Setting <code>cn2</code>:</a></li>
<li class="chapter" data-level="5.2.8" data-path="landuse.lum-update.html"><a href="landuse.lum-update.html#setting-cons_prac"><i class="fa fa-check"></i><b>5.2.8</b> Setting <code>cons_prac</code></a></li>
<li class="chapter" data-level="5.2.9" data-path="landuse.lum-update.html"><a href="landuse.lum-update.html#setting-tile"><i class="fa fa-check"></i><b>5.2.9</b> Setting <code>tile</code></a></li>
<li class="chapter" data-level="5.2.10" data-path="landuse.lum-update.html"><a href="landuse.lum-update.html#setting-sep"><i class="fa fa-check"></i><b>5.2.10</b> Setting <code>sep</code></a></li>
<li class="chapter" data-level="5.2.11" data-path="landuse.lum-update.html"><a href="landuse.lum-update.html#setting-vfs"><i class="fa fa-check"></i><b>5.2.11</b> Setting <code>vfs</code></a></li>
<li class="chapter" data-level="5.2.12" data-path="landuse.lum-update.html"><a href="landuse.lum-update.html#setting-grww"><i class="fa fa-check"></i><b>5.2.12</b> Setting <code>grww</code></a></li>
<li class="chapter" data-level="5.2.13" data-path="landuse.lum-update.html"><a href="landuse.lum-update.html#setting-bmp"><i class="fa fa-check"></i><b>5.2.13</b> Setting <code>bmp</code></a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="landuse.lum-update.html"><a href="landuse.lum-update.html#writing-changes"><i class="fa fa-check"></i><b>5.3</b> Writing Changes</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="field-site-loggers.html"><a href="field-site-loggers.html"><i class="fa fa-check"></i><b>6</b> Field Site Loggers</a>
<ul>
<li class="chapter" data-level="6.1" data-path="field-site-loggers.html"><a href="field-site-loggers.html#introduction-1"><i class="fa fa-check"></i><b>6.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="field-site-loggers.html"><a href="field-site-loggers.html#prerequisites"><i class="fa fa-check"></i><b>6.1.1</b> Prerequisites</a></li>
<li class="chapter" data-level="6.1.2" data-path="field-site-loggers.html"><a href="field-site-loggers.html#locations"><i class="fa fa-check"></i><b>6.1.2</b> Locations</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="field-site-loggers.html"><a href="field-site-loggers.html#data-processing"><i class="fa fa-check"></i><b>6.2</b> Data Processing</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="field-site-loggers.html"><a href="field-site-loggers.html#loading-data"><i class="fa fa-check"></i><b>6.2.1</b> Loading Data</a></li>
<li class="chapter" data-level="6.2.2" data-path="field-site-loggers.html"><a href="field-site-loggers.html#data-re-structuring"><i class="fa fa-check"></i><b>6.2.2</b> Data Re-structuring</a></li>
<li class="chapter" data-level="6.2.3" data-path="field-site-loggers.html"><a href="field-site-loggers.html#summarize-to-daily-means"><i class="fa fa-check"></i><b>6.2.3</b> Summarize to Daily Means</a></li>
<li class="chapter" data-level="6.2.4" data-path="field-site-loggers.html"><a href="field-site-loggers.html#including-air-temperature-and-precipitation-data"><i class="fa fa-check"></i><b>6.2.4</b> Including Air Temperature and Precipitation Data</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="field-site-loggers.html"><a href="field-site-loggers.html#data-quality-check"><i class="fa fa-check"></i><b>6.3</b> Data quality check</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="field-site-loggers.html"><a href="field-site-loggers.html#logger-600409-deep-rocky-sand"><i class="fa fa-check"></i><b>6.3.1</b> Logger 600409 “Deep Rocky Sand”</a></li>
<li class="chapter" data-level="6.3.2" data-path="field-site-loggers.html"><a href="field-site-loggers.html#logger-600410-tormods-farm"><i class="fa fa-check"></i><b>6.3.2</b> Logger 600410 “Tormods farm”</a></li>
<li class="chapter" data-level="6.3.3" data-path="field-site-loggers.html"><a href="field-site-loggers.html#logger-600411-john-ivar-lower-area"><i class="fa fa-check"></i><b>6.3.3</b> Logger 600411 “John Ivar Lower Area”</a></li>
<li class="chapter" data-level="6.3.4" data-path="field-site-loggers.html"><a href="field-site-loggers.html#logger-600413-john-ivar-behind-the-barn"><i class="fa fa-check"></i><b>6.3.4</b> Logger 600413 “John Ivar behind the barn”</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="field-site-loggers.html"><a href="field-site-loggers.html#data-cleanup"><i class="fa fa-check"></i><b>6.4</b> Data Cleanup</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="field-site-loggers.html"><a href="field-site-loggers.html#general-cleanup"><i class="fa fa-check"></i><b>6.4.1</b> General cleanup</a></li>
<li class="chapter" data-level="6.4.2" data-path="field-site-loggers.html"><a href="field-site-loggers.html#logger-specific-cleanup"><i class="fa fa-check"></i><b>6.4.2</b> Logger specific cleanup</a></li>
<li class="chapter" data-level="6.4.3" data-path="field-site-loggers.html"><a href="field-site-loggers.html#saving-the-cleaned-data"><i class="fa fa-check"></i><b>6.4.3</b> Saving the cleaned data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="field-site-properties.html"><a href="field-site-properties.html"><i class="fa fa-check"></i><b>7</b> Field Site Properties</a>
<ul>
<li class="chapter" data-level="7.1" data-path="field-site-properties.html"><a href="field-site-properties.html#determining-the-hsg-group-of-the-logger-sites"><i class="fa fa-check"></i><b>7.1</b> Determining the HSG group of the logger sites</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="antecedent-precipitation-index.html"><a href="antecedent-precipitation-index.html"><i class="fa fa-check"></i><b>8</b> Antecedent Precipitation Index</a>
<ul>
<li class="chapter" data-level="8.1" data-path="antecedent-precipitation-index.html"><a href="antecedent-precipitation-index.html#introduction-2"><i class="fa fa-check"></i><b>8.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="antecedent-precipitation-index.html"><a href="antecedent-precipitation-index.html#pre-requirements"><i class="fa fa-check"></i><b>8.1.1</b> Pre-requirements</a></li>
<li class="chapter" data-level="8.1.2" data-path="antecedent-precipitation-index.html"><a href="antecedent-precipitation-index.html#setting-up-python-for-rrmarkdown"><i class="fa fa-check"></i><b>8.1.2</b> Setting up Python for R/Rmarkdown</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="antecedent-precipitation-index.html"><a href="antecedent-precipitation-index.html#antecedent-precipitation-index-1"><i class="fa fa-check"></i><b>8.2</b> Antecedent Precipitation Index</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="antecedent-precipitation-index.html"><a href="antecedent-precipitation-index.html#loading-data-1"><i class="fa fa-check"></i><b>8.2.1</b> Loading data</a></li>
<li class="chapter" data-level="8.2.2" data-path="antecedent-precipitation-index.html"><a href="antecedent-precipitation-index.html#calculating-the-total-water-content"><i class="fa fa-check"></i><b>8.2.2</b> Calculating the total water content</a></li>
<li class="chapter" data-level="8.2.3" data-path="antecedent-precipitation-index.html"><a href="antecedent-precipitation-index.html#defining-api-model"><i class="fa fa-check"></i><b>8.2.3</b> Defining API model</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="antecedent-precipitation-index.html"><a href="antecedent-precipitation-index.html#conclusions"><i class="fa fa-check"></i><b>8.3</b> Conclusions</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="model-parameterization.html"><a href="model-parameterization.html"><i class="fa fa-check"></i><b>9</b> Model Parameterization</a>
<ul>
<li class="chapter" data-level="9.1" data-path="model-parameterization.html"><a href="model-parameterization.html#parameter-changes"><i class="fa fa-check"></i><b>9.1</b> Parameter Changes</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="model-parameterization.html"><a href="model-parameterization.html#channel-parameters-revised"><i class="fa fa-check"></i><b>9.1.1</b> Channel parameters revised</a></li>
<li class="chapter" data-level="9.1.2" data-path="model-parameterization.html"><a href="model-parameterization.html#crop-parameters-verified"><i class="fa fa-check"></i><b>9.1.2</b> Crop parameters verified</a></li>
<li class="chapter" data-level="9.1.3" data-path="model-parameterization.html"><a href="model-parameterization.html#soil-physical-parameters-in-final-form"><i class="fa fa-check"></i><b>9.1.3</b> Soil physical parameters in final form</a></li>
<li class="chapter" data-level="9.1.4" data-path="model-parameterization.html"><a href="model-parameterization.html#soil-chemical-parameters-in-final-form"><i class="fa fa-check"></i><b>9.1.4</b> Soil chemical parameters in final form</a></li>
<li class="chapter" data-level="9.1.5" data-path="model-parameterization.html"><a href="model-parameterization.html#impoundment-parameters-defined"><i class="fa fa-check"></i><b>9.1.5</b> Impoundment parameters defined</a></li>
<li class="chapter" data-level="9.1.6" data-path="model-parameterization.html"><a href="model-parameterization.html#water-diversions-defined"><i class="fa fa-check"></i><b>9.1.6</b> Water diversions defined</a></li>
<li class="chapter" data-level="9.1.7" data-path="model-parameterization.html"><a href="model-parameterization.html#point-sources-parameters-added"><i class="fa fa-check"></i><b>9.1.7</b> Point sources parameters added</a></li>
<li class="chapter" data-level="9.1.8" data-path="model-parameterization.html"><a href="model-parameterization.html#tile-drainage-parameters-defined"><i class="fa fa-check"></i><b>9.1.8</b> Tile drainage parameters defined</a></li>
<li class="chapter" data-level="9.1.9" data-path="model-parameterization.html"><a href="model-parameterization.html#atmospheric-deposition-defined"><i class="fa fa-check"></i><b>9.1.9</b> Atmospheric deposition defined</a></li>
<li class="chapter" data-level="9.1.10" data-path="model-parameterization.html"><a href="model-parameterization.html#additional-settings-verified"><i class="fa fa-check"></i><b>9.1.10</b> Additional settings verified</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="model-parameterization.html"><a href="model-parameterization.html#fixing-tiledrain"><i class="fa fa-check"></i><b>9.2</b> Fixing Tiledrain</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="model-parameterization.html"><a href="model-parameterization.html#finding-the-problem-hrus"><i class="fa fa-check"></i><b>9.2.1</b> Finding the problem HRUs</a></li>
<li class="chapter" data-level="9.2.2" data-path="model-parameterization.html"><a href="model-parameterization.html#fixing-the-problem-hrus"><i class="fa fa-check"></i><b>9.2.2</b> Fixing the problem HRUs</a></li>
<li class="chapter" data-level="9.2.3" data-path="model-parameterization.html"><a href="model-parameterization.html#writing-modified-changes"><i class="fa fa-check"></i><b>9.2.3</b> Writing modified changes</a></li>
<li class="chapter" data-level="9.2.4" data-path="model-parameterization.html"><a href="model-parameterization.html#re-enabling-tiledrain"><i class="fa fa-check"></i><b>9.2.4</b> Re-enabling tiledrain</a></li>
<li class="chapter" data-level="9.2.5" data-path="model-parameterization.html"><a href="model-parameterization.html#testing-swat"><i class="fa fa-check"></i><b>9.2.5</b> Testing SWAT+</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="swatfarmr-management-schedules.html"><a href="swatfarmr-management-schedules.html"><i class="fa fa-check"></i><b>10</b> SWATFarmR Management Schedules</a>
<ul>
<li class="chapter" data-level="10.1" data-path="swatfarmr-management-schedules.html"><a href="swatfarmr-management-schedules.html#pre-processing-crop-rotation"><i class="fa fa-check"></i><b>10.1</b> Pre-processing crop rotation</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="swatfarmr-management-schedules.html"><a href="swatfarmr-management-schedules.html#input-files"><i class="fa fa-check"></i><b>10.1.1</b> Input files</a></li>
<li class="chapter" data-level="10.1.2" data-path="swatfarmr-management-schedules.html"><a href="swatfarmr-management-schedules.html#settings"><i class="fa fa-check"></i><b>10.1.2</b> Settings</a></li>
<li class="chapter" data-level="10.1.3" data-path="swatfarmr-management-schedules.html"><a href="swatfarmr-management-schedules.html#checks"><i class="fa fa-check"></i><b>10.1.3</b> Checks</a></li>
<li class="chapter" data-level="10.1.4" data-path="swatfarmr-management-schedules.html"><a href="swatfarmr-management-schedules.html#writing-input-data"><i class="fa fa-check"></i><b>10.1.4</b> Writing input data</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="swatfarmr-management-schedules.html"><a href="swatfarmr-management-schedules.html#initializing-farmr"><i class="fa fa-check"></i><b>10.2</b> Initializing FarmR</a></li>
<li class="chapter" data-level="10.3" data-path="swatfarmr-management-schedules.html"><a href="swatfarmr-management-schedules.html#calculating-antecedent-precipitation-index"><i class="fa fa-check"></i><b>10.3</b> Calculating Antecedent Precipitation Index</a></li>
<li class="chapter" data-level="10.4" data-path="swatfarmr-management-schedules.html"><a href="swatfarmr-management-schedules.html#scheduling-operations"><i class="fa fa-check"></i><b>10.4</b> Scheduling Operations</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="swatfarmr-management-schedules.html"><a href="swatfarmr-management-schedules.html#write-operations"><i class="fa fa-check"></i><b>10.4.1</b> Write Operations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="model-verification.html"><a href="model-verification.html"><i class="fa fa-check"></i><b>11</b> Model Verification</a>
<ul>
<li class="chapter" data-level="11.1" data-path="model-verification.html"><a href="model-verification.html#stage-1-analysis-of-simulated-climate-variables"><i class="fa fa-check"></i><b>11.1</b> Stage 1: Analysis of simulated climate variables</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="model-verification.html"><a href="model-verification.html#lapse-rate-on"><i class="fa fa-check"></i><b>11.1.1</b> Lapse rate on:</a></li>
<li class="chapter" data-level="11.1.2" data-path="model-verification.html"><a href="model-verification.html#lapse-rate-off"><i class="fa fa-check"></i><b>11.1.2</b> Lapse rate off:</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="model-verification.html"><a href="model-verification.html#stage-2-simulation-of-management-operations"><i class="fa fa-check"></i><b>11.2</b> Stage 2: Simulation of management operations</a></li>
<li class="chapter" data-level="11.3" data-path="model-verification.html"><a href="model-verification.html#stage-3-analysis-of-unconstrained-plant-growth"><i class="fa fa-check"></i><b>11.3</b> Stage 3: Analysis of unconstrained plant growth</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">OPTAIN CS-10</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="swatfarmr-management-schedules" class="section level1 hasAnchor" number="10">
<h1><span class="header-section-number">Section 10</span> SWATFarmR Management Schedules<a href="swatfarmr-management-schedules.html#swatfarmr-management-schedules" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>WIP: Every field in the OPTAIN SWAT setup needs its own management. We will
use the SWATFarmR package to define it.</p>
<div class="sourceCode" id="cb321"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb321-1"><a href="swatfarmr-management-schedules.html#cb321-1" aria-hidden="true" tabindex="-1"></a>run_this_chapter <span class="ot">=</span> <span class="cn">FALSE</span></span></code></pre></div>
<p><strong>Pre-requirements</strong></p>
<p>The creation of management schedules with <code>SWATfarmR</code> requires a SWAT+
model setup created by the <code>SWATbuildR</code> package.</p>
<p>We also require the following package and functions:</p>
<div class="sourceCode" id="cb322"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb322-1"><a href="swatfarmr-management-schedules.html#cb322-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(DT)</span>
<span id="cb322-2"><a href="swatfarmr-management-schedules.html#cb322-2" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(ggplot2)</span>
<span id="cb322-3"><a href="swatfarmr-management-schedules.html#cb322-3" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(readr)</span>
<span id="cb322-4"><a href="swatfarmr-management-schedules.html#cb322-4" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(stringr)</span>
<span id="cb322-5"><a href="swatfarmr-management-schedules.html#cb322-5" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(magrittr)</span>
<span id="cb322-6"><a href="swatfarmr-management-schedules.html#cb322-6" aria-hidden="true" tabindex="-1"></a><span class="co">#remotes::install_github(&quot;chrisschuerz/SWATfarmR&quot;)</span></span>
<span id="cb322-7"><a href="swatfarmr-management-schedules.html#cb322-7" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(SWATfarmR)</span>
<span id="cb322-8"><a href="swatfarmr-management-schedules.html#cb322-8" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(sf)</span>
<span id="cb322-9"><a href="swatfarmr-management-schedules.html#cb322-9" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(tidyverse)</span>
<span id="cb322-10"><a href="swatfarmr-management-schedules.html#cb322-10" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(lubridate)</span>
<span id="cb322-11"><a href="swatfarmr-management-schedules.html#cb322-11" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(reshape2)</span>
<span id="cb322-12"><a href="swatfarmr-management-schedules.html#cb322-12" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(remotes)</span>
<span id="cb322-13"><a href="swatfarmr-management-schedules.html#cb322-13" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(dplyr)</span>
<span id="cb322-14"><a href="swatfarmr-management-schedules.html#cb322-14" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(data.table)</span>
<span id="cb322-15"><a href="swatfarmr-management-schedules.html#cb322-15" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(DT)</span>
<span id="cb322-16"><a href="swatfarmr-management-schedules.html#cb322-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb322-17"><a href="swatfarmr-management-schedules.html#cb322-17" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">&#39;model_data/swat_farmR/functions_write_SWATfarmR_input.R&#39;</span>)</span></code></pre></div>
<div id="pre-processing-crop-rotation" class="section level2 hasAnchor" number="10.1">
<h2><span class="header-section-number">10.1</span> Pre-processing crop rotation<a href="swatfarmr-management-schedules.html#pre-processing-crop-rotation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This OPTAIN-provided workflow pre-processes our crop rotation data into a
<code>SWATfarmR</code> compatible format. Authored by Michael Strauch, modified by
Moritz Shore</p>
<div id="input-files" class="section level3 hasAnchor" number="10.1.1">
<h3><span class="header-section-number">10.1.1</span> Input files<a href="swatfarmr-management-schedules.html#input-files" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="land-use-map-with-crop-information" class="section level4 hasAnchor" number="10.1.1.1">
<h4><span class="header-section-number">10.1.1.1</span> Land use map with crop information<a href="swatfarmr-management-schedules.html#land-use-map-with-crop-information" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>This map has the following requirements:</p>
<ol style="list-style-type: decimal">
<li><p>The map must contain the land use of each hru. In case of cropland, the names
must be unique for each field (e.g., ‘field_1’, ‘field_2’, etc.)</p></li>
<li><p>The map must also contain crop infos for the period 1988 to 2020 (or 2021 if
crop info available). This requires an extrapolation of the available crop
sequences (the sequences derived from remote-sensing based crop classification
or local data).</p></li>
<li><p>The extrapolated crop sequence for 33 years will be also used for running
climate scenarios and must not contain any gaps. That means, gaps have to be
closed manually!</p></li>
<li><p>The year columns must be named y_1988, y_1989, etc.</p></li>
<li><p>The crop infos for each year must match the crop_mgt names in the management
operation schedules (provided in a .csv file, see below)</p></li>
</ol>
<p>see also section 4.1 of the modelling protocol (ref)</p>
<div class="sourceCode" id="cb323"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb323-1"><a href="swatfarmr-management-schedules.html#cb323-1" aria-hidden="true" tabindex="-1"></a>lu_shp <span class="ot">&lt;-</span> <span class="st">&#39;model_data/input/crop/land_with_cr.shp&#39;</span></span>
<span id="cb323-2"><a href="swatfarmr-management-schedules.html#cb323-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb323-3"><a href="swatfarmr-management-schedules.html#cb323-3" aria-hidden="true" tabindex="-1"></a>lu <span class="ot">&lt;-</span> <span class="fu">st_drop_geometry</span>(<span class="fu">read_sf</span>(lu_shp))</span>
<span id="cb323-4"><a href="swatfarmr-management-schedules.html#cb323-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb323-5"><a href="swatfarmr-management-schedules.html#cb323-5" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(</span>
<span id="cb323-6"><a href="swatfarmr-management-schedules.html#cb323-6" aria-hidden="true" tabindex="-1"></a>  lu <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">50</span>),</span>
<span id="cb323-7"><a href="swatfarmr-management-schedules.html#cb323-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">extensions =</span> <span class="st">&quot;Scroller&quot;</span>,</span>
<span id="cb323-8"><a href="swatfarmr-management-schedules.html#cb323-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">options =</span> <span class="fu">list</span>(<span class="at">scrollY =</span> <span class="dv">200</span>, <span class="at">scroller =</span> <span class="cn">TRUE</span>)</span>
<span id="cb323-9"><a href="swatfarmr-management-schedules.html#cb323-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-f535ed52130da2a83942" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-f535ed52130da2a83942">{"x":{"filter":"none","vertical":false,"extensions":["Scroller"],"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],["frst","frst","frst","rngb","rngb","urml","rngb","a_001f_7","a_001f_5","a_002f_2","a_002f_2","a_002f_2","a_002f_5","a_002f_1","utrn","utrn","utrn","utrn","utrn","utrn","rngb","rngb","rngb","rngb","rngb","rngb","rngb","rngb","rngb","rngb","rngb","rngb","rngb","rngb","rngb","rngb","frst","frst","frst","utrn","rngb","rngb","rngb","rngb","rngb","rngb","rngb","rngb","rngb","rngb"],[null,null,null,null,null,null,null,1,1,1,1,1,1,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"til","til","til","til","til","til","til",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","barl","barl","barl","wwht","wwht",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","wwht","wwht","wwht","barl","oats",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","swht","swht","swht","swht","oats",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","wwht","wwht","wwht","wwht","wwht",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","barl","barl","barl","wwht","wwht",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","wwht","wwht","wwht","barl","oats",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","swht","swht","swht","swht","oats",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","wwht","wwht","wwht","wwht","wwht",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","barl","barl","barl","wwht","wwht",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","wwht","wwht","wwht","barl","oats",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","swht","swht","swht","swht","oats",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","wwht","wwht","wwht","wwht","wwht",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","barl","barl","barl","wwht","wwht",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","wwht","wwht","wwht","barl","oats",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","swht","swht","swht","swht","oats",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","wwht","wwht","wwht","wwht","wwht",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","barl","barl","barl","wwht","wwht",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","wwht","wwht","wwht","barl","oats",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","swht","swht","swht","swht","oats",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","wwht","wwht","wwht","wwht","wwht",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","barl","barl","barl","wwht","wwht",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","wwht","wwht","wwht","barl","oats",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","swht","swht","swht","swht","oats",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","wwht","wwht","wwht","wwht","wwht",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","barl","barl","barl","wwht","wwht",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","wwht","wwht","wwht","barl","oats",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","swht","swht","swht","swht","oats",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","wwht","wwht","wwht","wwht","wwht",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","barl","barl","barl","wwht","wwht",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","wwht","wwht","wwht","barl","oats",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","swht","swht","swht","swht","oats",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","wwht","wwht","wwht","wwht","wwht",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"wwht","wwht","barl","barl","barl","wwht","wwht",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>id<\/th>\n      <th>lu<\/th>\n      <th>cha_id<\/th>\n      <th>flow<\/th>\n      <th>y_1988<\/th>\n      <th>y_1989<\/th>\n      <th>y_1990<\/th>\n      <th>y_1991<\/th>\n      <th>y_1992<\/th>\n      <th>y_1993<\/th>\n      <th>y_1994<\/th>\n      <th>y_1995<\/th>\n      <th>y_1996<\/th>\n      <th>y_1997<\/th>\n      <th>y_1998<\/th>\n      <th>y_1999<\/th>\n      <th>y_2000<\/th>\n      <th>y_2001<\/th>\n      <th>y_2002<\/th>\n      <th>y_2003<\/th>\n      <th>y_2004<\/th>\n      <th>y_2005<\/th>\n      <th>y_2006<\/th>\n      <th>y_2007<\/th>\n      <th>y_2008<\/th>\n      <th>y_2009<\/th>\n      <th>y_2010<\/th>\n      <th>y_2011<\/th>\n      <th>y_2012<\/th>\n      <th>y_2013<\/th>\n      <th>y_2014<\/th>\n      <th>y_2015<\/th>\n      <th>y_2016<\/th>\n      <th>y_2017<\/th>\n      <th>y_2018<\/th>\n      <th>y_2019<\/th>\n      <th>y_2020<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollY":200,"scroller":true,"columnDefs":[{"className":"dt-right","targets":[1,3]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="management-operation-schedules-for-each-crop" class="section level4 hasAnchor" number="10.1.1.2">
<h4><span class="header-section-number">10.1.1.2</span> Management operation schedules for each crop<a href="swatfarmr-management-schedules.html#management-operation-schedules-for-each-crop" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>..or, if available, crop-management type.</p>
<ol style="list-style-type: decimal">
<li><p>All schedules must be compiled in one csv file (see example in demo data and
study also section 4.2 of the modelling protocol)</p></li>
<li><p>‘crop_mgt’ must start with the 4-character SWAT crop names (any further
management specification is optional).</p></li>
<li><p>Each schedule must contain a ‘skip’ line to indicate the change of years.</p></li>
<li><p>The ‘skip’ line should never be the last line of a schedule.</p></li>
</ol>
<div class="sourceCode" id="cb324"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb324-1"><a href="swatfarmr-management-schedules.html#cb324-1" aria-hidden="true" tabindex="-1"></a>mgt_csv <span class="ot">&lt;-</span> <span class="st">&#39;model_data/input/management/mgt_crops_CS10.csv&#39;</span></span>
<span id="cb324-2"><a href="swatfarmr-management-schedules.html#cb324-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb324-3"><a href="swatfarmr-management-schedules.html#cb324-3" aria-hidden="true" tabindex="-1"></a>mgt_crop <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(mgt_csv)</span>
<span id="cb324-4"><a href="swatfarmr-management-schedules.html#cb324-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb324-5"><a href="swatfarmr-management-schedules.html#cb324-5" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(mgt_crop,</span>
<span id="cb324-6"><a href="swatfarmr-management-schedules.html#cb324-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">extensions =</span> <span class="st">&quot;Scroller&quot;</span>,</span>
<span id="cb324-7"><a href="swatfarmr-management-schedules.html#cb324-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">options =</span> <span class="fu">list</span>(<span class="at">scrollY =</span> <span class="dv">200</span>, <span class="at">scroller =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-d6b5934fc665f5c6d63d" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-d6b5934fc665f5c6d63d">{"x":{"filter":"none","vertical":false,"extensions":["Scroller"],"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55"],["barl","barl","barl","barl","barl","barl","barl","barl","barl","oats","oats","oats","oats","oats","oats","oats","oats","oats","oats","wwht","wwht","wwht","wwht","wwht","wwht","wwht","wwht","wwht","wwht","wwht","swht","swht","swht","swht","swht","swht","swht","swht","swht","pota","pota","pota","pota","pota","pota","pota","pota","pota","pota","meadow","meadow","meadow","meadow","meadow","meadow"],[null,4,5,5,5,5,5,7,7,null,4,4,4,4,4,4,4,7,7,8,8,null,4,4,4,4,6,6,7,7,null,4,5,5,5,5,5,7,7,null,5,5,5,5,6,6,9,9,10,null,4,4,6,7,8],[null,30,1,1,1,23,23,15,16,null,2,4,4,4,5,26,26,20,20,20,21,null,10,10,27,27,13,13,20,20,null,30,2,2,2,26,26,20,20,null,1,3,3,3,10,10,5,5,1,null,10,10,15,1,20],[null,5,5,5,5,6,6,8,8,null,5,5,5,5,5,6,6,8,8,10,10,null,4,4,6,6,7,7,9,9,null,5,5,5,5,6,6,9,9,null,5,5,5,5,6,6,9,9,10,null,4,4,6,7,9],[null,30,31,31,31,11,11,26,26,null,28,30,30,30,31,21,21,28,28,25,25,null,30,30,5,5,1,1,10,10,null,10,15,15,15,18,18,1,1,null,20,25,25,25,20,20,30,30,20,null,30,30,25,15,1],["skip","tillage","plant","fertilizer","fertilizer","fertilizer","fertilizer","harvest_only","kill_only","skip","tillage","fertilizer","fertilizer","plant","tillage","fertilizer","fertilizer","harvest_only","kill_only","plant","tillage","skip","fertilizer","fertilizer","fertilizer","fertilizer","fertilizer","fertilizer","harvest_only","kill_only","skip","tillage","fertilizer","fertilizer","plant","fertilizer","fertilizer","harvest_only","kill_only","skip","tillage","fertilizer","fertilizer","plant","fertilizer","fertilizer","harvest_only","kill_only","tillage","skip","fertilizer","fertilizer","harvest_only","fertilizer","harvest_only"],[null,"fldcult","barl","elem_n","elem_p","elem_n","elem_p","barl","barl",null,"harrow","elem_n","elem_p","oats","rowcult","elem_n","elem_p","oats","oats","wwht","rowcult",null,"elem_n","elem_p","elem_n","elem_p","elem_n","elem_p","wwht","wwht",null,"harrow","elem_n","elem_p","swht","elem_n","elem_p","swht","swht",null,"harrow","elem_n","elem_p","pota","elem_n","elem_p","pota","pota","fallplow",null,"elem_n","elem_p","fesc","elem_n","fesc"],[null,null,null,"broadcast","broadcast","broadcast","broadcast","grain",null,null,null,"broadcast","broadcast",null,null,"broadcast","broadcast","grain",null,null,null,null,"broadcast","broadcast","broadcast","broadcast","broadcast","broadcast","grain",null,null,null,"broadcast","broadcast",null,"broadcast","broadcast","grain",null,null,null,"broadcast","broadcast",null,"broadcast","broadcast","vegatable",null,null,null,"broadcast","broadcast","hay_cut_low","broadcast","hay_cut_low"],[null,null,null,"85","9","12.4","4","520",null,null,null,"96","14",null,null,"38","3","650",null,null,null,null,"79.1","11","77.2","6.8","34","2","650",null,null,null,"100","13.5",null,"57","3.1","550",null,null,null,"65","20",null,"35","15","3500",null,null,null,"10","5",null,"40","NA "]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>crop_mgt<\/th>\n      <th>mon_1<\/th>\n      <th>day_1<\/th>\n      <th>mon_2<\/th>\n      <th>day_2<\/th>\n      <th>operation<\/th>\n      <th>op_data1<\/th>\n      <th>op_data2<\/th>\n      <th>op_data3<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollY":200,"scroller":true,"columnDefs":[{"className":"dt-right","targets":[2,3,4,5]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="management-operation-schedules-for-generic-land-use-classes" class="section level4 hasAnchor" number="10.1.1.3">
<h4><span class="header-section-number">10.1.1.3</span> Management operation schedules for generic land-use classes<a href="swatfarmr-management-schedules.html#management-operation-schedules-for-generic-land-use-classes" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Usually all non-cropland classes with vegetation cover</p>
<ol style="list-style-type: decimal">
<li>here, all schedules must be provided already in the SWATfarmR input format.</li>
</ol>
<div class="sourceCode" id="cb325"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb325-1"><a href="swatfarmr-management-schedules.html#cb325-1" aria-hidden="true" tabindex="-1"></a>lu_generic_csv <span class="ot">&lt;-</span> <span class="st">&#39;model_data/input/management/farmR_generic_CS10.csv&#39;</span> <span class="co"># generic land use management .csv table</span></span>
<span id="cb325-2"><a href="swatfarmr-management-schedules.html#cb325-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb325-3"><a href="swatfarmr-management-schedules.html#cb325-3" aria-hidden="true" tabindex="-1"></a>mgt_generic <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(lu_generic_csv)</span>
<span id="cb325-4"><a href="swatfarmr-management-schedules.html#cb325-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb325-5"><a href="swatfarmr-management-schedules.html#cb325-5" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(mgt_generic)</span></code></pre></div>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-5dc861940dc8448146b6" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-5dc861940dc8448146b6">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12"],["frst","wetl","rngb","rnge","bsvg","past","gras","gras","gras","gras","gras","gras"],[null,null,null,null,null,null,null,4,4,6,7,9],[null,null,null,null,null,null,null,10,10,25,6,10],[null,null,null,null,null,null,null,5,5,7,7,9],[null,null,null,null,null,null,null,5,5,5,15,30],["initial_plant","initial_plant","initial_plant","initial_plant","initial_plant","initial_plant","initial_plant","fertilizer","fertilizer","harvest_only","fertilizer","harvest_only"],["frst","wetl","rngb","rnge","bsvg","fesc","fesc","elem_n","elem_p","fesc","elem_n","fesc"],["2,50000,0,0,1,10000","2,50000,0,0,1,10000","1,1000,0,0,1,1000","1,1000,0,0,1,1000","0.1,10,0,0,1,10","1,1000,0,0,1,1000","1,1000,0,0,1,1000","broadcast","broadcast","hay_cut_low","broadcast","hay_cut_low"],[null,null,null,null,null,null,null,60,25,null,40,null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>lulc_mgt<\/th>\n      <th>mon_1<\/th>\n      <th>day_1<\/th>\n      <th>mon_2<\/th>\n      <th>day_2<\/th>\n      <th>operation<\/th>\n      <th>op_data1<\/th>\n      <th>op_data2<\/th>\n      <th>op_data3<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,9]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="settings" class="section level3 hasAnchor" number="10.1.2">
<h3><span class="header-section-number">10.1.2</span> Settings<a href="swatfarmr-management-schedules.html#settings" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="simulation-period" class="section level4 hasAnchor" number="10.1.2.1">
<h4><span class="header-section-number">10.1.2.1</span> Simulation Period<a href="swatfarmr-management-schedules.html#simulation-period" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb326"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb326-1"><a href="swatfarmr-management-schedules.html#cb326-1" aria-hidden="true" tabindex="-1"></a>start_y <span class="ot">&lt;-</span> <span class="dv">2010</span> <span class="co"># starting year (consider at least 3 years for warm-up!)</span></span>
<span id="cb326-2"><a href="swatfarmr-management-schedules.html#cb326-2" aria-hidden="true" tabindex="-1"></a>end_y <span class="ot">&lt;-</span> <span class="dv">2020</span> <span class="co"># ending year</span></span></code></pre></div>
</div>
<div id="prefix-of-cropland-hrus" class="section level4 hasAnchor" number="10.1.2.2">
<h4><span class="header-section-number">10.1.2.2</span> Prefix of cropland hrus<a href="swatfarmr-management-schedules.html#prefix-of-cropland-hrus" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<blockquote>
<p>all names of hrus with a crop rotation must begin with this prefix in column
‘lu’ of your land use</p>
</blockquote>
<div class="sourceCode" id="cb327"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb327-1"><a href="swatfarmr-management-schedules.html#cb327-1" aria-hidden="true" tabindex="-1"></a>hru_crops <span class="ot">&lt;-</span> <span class="st">&#39;a_&#39;</span></span></code></pre></div>
</div>
<div id="multi-year-farmland-grass" class="section level4 hasAnchor" number="10.1.2.3">
<h4><span class="header-section-number">10.1.2.3</span> Multi-year farmland grass<a href="swatfarmr-management-schedules.html#multi-year-farmland-grass" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Did you define any multi-year farmland grass schedules? ‘y’ (yes), ‘n’ (no)</p>
<div class="sourceCode" id="cb328"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb328-1"><a href="swatfarmr-management-schedules.html#cb328-1" aria-hidden="true" tabindex="-1"></a>m_yr_sch_existing <span class="ot">&lt;-</span> <span class="st">&#39;n&#39;</span></span></code></pre></div>
<p>If yes, define also the following variables. <strong>If not, skip next four lines</strong></p>
<div class="sourceCode" id="cb329"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb329-1"><a href="swatfarmr-management-schedules.html#cb329-1" aria-hidden="true" tabindex="-1"></a>crop_myr <span class="ot">&lt;-</span> <span class="st">&#39;past&#39;</span> <span class="co"># name of your farmland grass</span></span></code></pre></div>
<p>Maximum number of years farmland grass can grow before it is killed (should be
&lt;8)</p>
<div class="sourceCode" id="cb330"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb330-1"><a href="swatfarmr-management-schedules.html#cb330-1" aria-hidden="true" tabindex="-1"></a>max_yr <span class="ot">&lt;-</span> <span class="dv">5</span></span></code></pre></div>
<p>Do your multi-year farmland grass schedules consider the type of the following
crop (summer or winter crop)?</p>
<p>(e.g., a ’_1.5yr’ schedule with a kill op in spring allows for planting a summer
crop immediately afterwards)</p>
<p>If yes, you must define your summer crops</p>
<div class="sourceCode" id="cb331"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb331-1"><a href="swatfarmr-management-schedules.html#cb331-1" aria-hidden="true" tabindex="-1"></a>crop_s <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;sgbt&#39;</span>,<span class="st">&#39;csil&#39;</span>,<span class="st">&#39;barl&#39;</span>)</span></code></pre></div>
<p>Do your summer crop schedules usually start with an operation in autumn (e.g.
tillage)? To combine them with farmland grass, it is necessary that you provide
‘half-year-schedules’ (‘half-year-schedules’ are additional summer crop
schedules without operations in autumn) The adapted schedules should be added to
the crop management table with suffix ’_0.5yr’ (e.g. ‘csil_0.5yr’)</p>
<p>If additional ‘half-year-schedules’ are not needed, because your normal summer
crop schedules do not start in autumn, type ‘n’</p>
<div class="sourceCode" id="cb332"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb332-1"><a href="swatfarmr-management-schedules.html#cb332-1" aria-hidden="true" tabindex="-1"></a>additional_h_yr_sch_existing <span class="ot">&lt;-</span> <span class="st">&#39;n&#39;</span> <span class="co"># &#39;y&#39; (yes), &#39;n&#39; (no)</span></span></code></pre></div>
</div>
</div>
<div id="checks" class="section level3 hasAnchor" number="10.1.3">
<h3><span class="header-section-number">10.1.3</span> Checks<a href="swatfarmr-management-schedules.html#checks" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Check for correct positioning of ‘skip’ line</p>
<div class="sourceCode" id="cb333"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb333-1"><a href="swatfarmr-management-schedules.html#cb333-1" aria-hidden="true" tabindex="-1"></a>check_skip <span class="ot">&lt;-</span> <span class="fu">check_skip_position</span>()</span></code></pre></div>
<p>Check for date conflicts in single crop schedules</p>
<div class="sourceCode" id="cb334"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb334-1"><a href="swatfarmr-management-schedules.html#cb334-1" aria-hidden="true" tabindex="-1"></a><span class="fu">check_date_conflicts1</span>()</span></code></pre></div>
<p>Build schedules for crop sequences (Messages disabled)</p>
<div class="sourceCode" id="cb335"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb335-1"><a href="swatfarmr-management-schedules.html#cb335-1" aria-hidden="true" tabindex="-1"></a>rota_schedules <span class="ot">&lt;-</span> <span class="fu">build_rotation_schedules</span>()</span></code></pre></div>
<p>Check for date conflicts in the full rotation schedule. (Messages disabled)</p>
<div class="sourceCode" id="cb336"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb336-1"><a href="swatfarmr-management-schedules.html#cb336-1" aria-hidden="true" tabindex="-1"></a><span class="fu">check_date_conflicts2</span>()</span></code></pre></div>
<p>Solve minor date conflicts (where only a few days/weeks are overlapping)</p>
<p>(Messages disabled)</p>
<div class="sourceCode" id="cb337"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb337-1"><a href="swatfarmr-management-schedules.html#cb337-1" aria-hidden="true" tabindex="-1"></a>rota_schedules <span class="ot">&lt;-</span> <span class="fu">solve_date_conflicts</span>()</span></code></pre></div>
<p>Check again for date conflicts (Messages disabled)</p>
<div class="sourceCode" id="cb338"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb338-1"><a href="swatfarmr-management-schedules.html#cb338-1" aria-hidden="true" tabindex="-1"></a><span class="fu">check_date_conflicts2</span>()</span></code></pre></div>
</div>
<div id="writing-input-data" class="section level3 hasAnchor" number="10.1.4">
<h3><span class="header-section-number">10.1.4</span> Writing input data<a href="swatfarmr-management-schedules.html#writing-input-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Write the SWAT farmR input table</p>
<div class="sourceCode" id="cb339"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb339-1"><a href="swatfarmr-management-schedules.html#cb339-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_farmR_input</span>()</span></code></pre></div>
<p>The output of this pre-processing stage is loaded in from this file:</p>
<div class="sourceCode" id="cb340"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb340-1"><a href="swatfarmr-management-schedules.html#cb340-1" aria-hidden="true" tabindex="-1"></a>farmR_input <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">&quot;model_data/input/management/farmR_input.csv&quot;</span>,</span>
<span id="cb340-2"><a href="swatfarmr-management-schedules.html#cb340-2" aria-hidden="true" tabindex="-1"></a>                               <span class="at">show_col_types =</span> F)</span>
<span id="cb340-3"><a href="swatfarmr-management-schedules.html#cb340-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb340-4"><a href="swatfarmr-management-schedules.html#cb340-4" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(</span>
<span id="cb340-5"><a href="swatfarmr-management-schedules.html#cb340-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(farmR_input, <span class="dv">50</span>),</span>
<span id="cb340-6"><a href="swatfarmr-management-schedules.html#cb340-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">extensions =</span> <span class="st">&quot;Scroller&quot;</span>,</span>
<span id="cb340-7"><a href="swatfarmr-management-schedules.html#cb340-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">options =</span> <span class="fu">list</span>(<span class="at">scrollY =</span> <span class="dv">200</span>, <span class="at">scroller =</span> <span class="cn">TRUE</span>)</span>
<span id="cb340-8"><a href="swatfarmr-management-schedules.html#cb340-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-21a7c55a2495923c7888" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-21a7c55a2495923c7888">{"x":{"filter":"none","vertical":false,"extensions":["Scroller"],"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"],["a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum","a_001f_7_lum"],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,"(md &gt;= 0410) * (md &lt;= 0430) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op)))",null,"(md &gt;= 0427) * (md &lt;= 0605) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op)))",null,"(md &gt;= 0613) * (md &lt;= 0701) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op)))",null,"(md &gt;= 0720) * (md &lt;= 0910) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op)))",null,"(md &gt;= 0820) * (md &lt;= 1025) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op)))","(md &gt;= 0821) * (md &lt;= 1025) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op)))","(md &gt;= 0410) * (md &lt;= 0430) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op) + 1))",null,"(md &gt;= 0427) * (md &lt;= 0605) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op)))",null,"(md &gt;= 0613) * (md &lt;= 0701) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op)))",null,"(md &gt;= 0720) * (md &lt;= 0910) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op)))",null,"(md &gt;= 0820) * (md &lt;= 1025) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op)))","(md &gt;= 0821) * (md &lt;= 1025) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op)))","(md &gt;= 0410) * (md &lt;= 0430) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op) + 1))",null,"(md &gt;= 0427) * (md &lt;= 0605) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op)))",null,"(md &gt;= 0613) * (md &lt;= 0701) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op)))",null,"(md &gt;= 0720) * (md &lt;= 0910) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op)))",null,"(md &gt;= 0820) * (md &lt;= 1025) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op)))","(md &gt;= 0821) * (md &lt;= 1025) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op)))","(md &gt;= 0410) * (md &lt;= 0430) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op) + 1))",null,"(md &gt;= 0427) * (md &lt;= 0605) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op)))",null,"(md &gt;= 0613) * (md &lt;= 0701) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op)))",null,"(md &gt;= 0720) * (md &lt;= 0910) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op)))",null,"(md &gt;= 0820) * (md &lt;= 1025) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op)))","(md &gt;= 0821) * (md &lt;= 1025) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op)))","(md &gt;= 0410) * (md &lt;= 0430) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op) + 1))",null,"(md &gt;= 0427) * (md &lt;= 0605) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op)))",null,"(md &gt;= 0613) * (md &lt;= 0701) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op)))",null,"(md &gt;= 0720) * (md &lt;= 0910) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op)))",null,"(md &gt;= 0820) * (md &lt;= 1025) * (1 - w_log(pcp, 0, 7)) * (1 - w_log(api, 5, 20)) * (year == (year(prev_op)))"],["initial_plant","fertilizer","fertilizer","fertilizer","fertilizer","fertilizer","fertilizer","harvest_only","kill_only","plant","tillage","fertilizer","fertilizer","fertilizer","fertilizer","fertilizer","fertilizer","harvest_only","kill_only","plant","tillage","fertilizer","fertilizer","fertilizer","fertilizer","fertilizer","fertilizer","harvest_only","kill_only","plant","tillage","fertilizer","fertilizer","fertilizer","fertilizer","fertilizer","fertilizer","harvest_only","kill_only","plant","tillage","fertilizer","fertilizer","fertilizer","fertilizer","fertilizer","fertilizer","harvest_only","kill_only","plant"],["wwht","elem_n","elem_p","elem_n","elem_p","elem_n","elem_p","wwht","wwht","wwht","rowcult","elem_n","elem_p","elem_n","elem_p","elem_n","elem_p","wwht","wwht","wwht","rowcult","elem_n","elem_p","elem_n","elem_p","elem_n","elem_p","wwht","wwht","wwht","rowcult","elem_n","elem_p","elem_n","elem_p","elem_n","elem_p","wwht","wwht","wwht","rowcult","elem_n","elem_p","elem_n","elem_p","elem_n","elem_p","wwht","wwht","wwht"],["1,1000,0,0,1,1000","broadcast","broadcast","broadcast","broadcast","broadcast","broadcast","grain",null,null,null,"broadcast","broadcast","broadcast","broadcast","broadcast","broadcast","grain",null,null,null,"broadcast","broadcast","broadcast","broadcast","broadcast","broadcast","grain",null,null,null,"broadcast","broadcast","broadcast","broadcast","broadcast","broadcast","grain",null,null,null,"broadcast","broadcast","broadcast","broadcast","broadcast","broadcast","grain",null,null],[null,79.1,11,77.2,6.8,34,2,650,null,null,null,79.1,11,77.2,6.8,34,2,650,null,null,null,79.1,11,77.2,6.8,34,2,650,null,null,null,79.1,11,77.2,6.8,34,2,650,null,null,null,79.1,11,77.2,6.8,34,2,650,null,null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>land_use<\/th>\n      <th>management<\/th>\n      <th>weight<\/th>\n      <th>filter_attribute<\/th>\n      <th>condition_schedule<\/th>\n      <th>operation<\/th>\n      <th>op_data1<\/th>\n      <th>op_data2<\/th>\n      <th>op_data3<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollY":200,"scroller":true,"columnDefs":[{"className":"dt-right","targets":9},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<p>TODO: Figure out why this is an issue. Are you using the wrong buildR output
as source material for the crop generation?</p>
<p>We need to fix the land use name, which entails replacing the <code>_drn_lum</code>
with just <code>_lum</code> for all the agricultural fields. This is because
<code>land.shp</code> from buildR does not include the <code>_drn</code> for some reason</p>
<div class="sourceCode" id="cb341"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb341-1"><a href="swatfarmr-management-schedules.html#cb341-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">TODO</span><span class="co">: Figure out why this is an issue. Are you using the wrong buildR output</span></span>
<span id="cb341-2"><a href="swatfarmr-management-schedules.html#cb341-2" aria-hidden="true" tabindex="-1"></a><span class="co"># as source material for the crop generation?</span></span>
<span id="cb341-3"><a href="swatfarmr-management-schedules.html#cb341-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb341-4"><a href="swatfarmr-management-schedules.html#cb341-4" aria-hidden="true" tabindex="-1"></a> farmR_input2 <span class="ot">&lt;-</span> farmR_input <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="at">x =</span> land_use, <span class="st">&quot;a_&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb341-5"><a href="swatfarmr-management-schedules.html#cb341-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">land_use =</span> <span class="fu">str_replace</span>(.<span class="sc">$</span>land_use, <span class="st">&quot;_lum&quot;</span>, <span class="st">&quot;_drn_lum&quot;</span>))</span>
<span id="cb341-6"><a href="swatfarmr-management-schedules.html#cb341-6" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb341-7"><a href="swatfarmr-management-schedules.html#cb341-7" aria-hidden="true" tabindex="-1"></a> farmR_input3 <span class="ot">&lt;-</span> farmR_input <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">grepl</span>(<span class="at">x =</span> land_use, <span class="st">&quot;a_&quot;</span>))</span>
<span id="cb341-8"><a href="swatfarmr-management-schedules.html#cb341-8" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb341-9"><a href="swatfarmr-management-schedules.html#cb341-9" aria-hidden="true" tabindex="-1"></a> farmR_input4 <span class="ot">&lt;-</span> <span class="fu">rbind</span>(farmR_input2, farmR_input3)</span>
<span id="cb341-10"><a href="swatfarmr-management-schedules.html#cb341-10" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb341-11"><a href="swatfarmr-management-schedules.html#cb341-11" aria-hidden="true" tabindex="-1"></a> <span class="fu">write_csv</span>(farmR_input4, <span class="at">file =</span><span class="st">&quot;model_data/input/management/farmR_input2.csv&quot;</span>)</span>
<span id="cb341-12"><a href="swatfarmr-management-schedules.html#cb341-12" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb341-13"><a href="swatfarmr-management-schedules.html#cb341-13" aria-hidden="true" tabindex="-1"></a> <span class="fu">rm</span>(farmR_input, farmR_input2, farmR_input3, farmR_input4)</span>
<span id="cb341-14"><a href="swatfarmr-management-schedules.html#cb341-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb341-15"><a href="swatfarmr-management-schedules.html#cb341-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Yes I am aware that code is bad and ugly.</span></span></code></pre></div>
</div>
</div>
<div id="initializing-farmr" class="section level2 hasAnchor" number="10.2">
<h2><span class="header-section-number">10.2</span> Initializing FarmR<a href="swatfarmr-management-schedules.html#initializing-farmr" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We will create a dedicated directory for our SWATfarmR and copy in our latest
text input files.</p>
<div class="sourceCode" id="cb342"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb342-1"><a href="swatfarmr-management-schedules.html#cb342-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="st">&quot;model_data/cs10_setup/swat_farmR/&quot;</span>, <span class="at">showWarnings =</span> F)</span>
<span id="cb342-2"><a href="swatfarmr-management-schedules.html#cb342-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb342-3"><a href="swatfarmr-management-schedules.html#cb342-3" aria-hidden="true" tabindex="-1"></a>sta_files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="st">&quot;model_data/cs10_setup/optain-cs10/&quot;</span>,</span>
<span id="cb342-4"><a href="swatfarmr-management-schedules.html#cb342-4" aria-hidden="true" tabindex="-1"></a>                        <span class="at">pattern =</span> <span class="st">&quot;sta_&quot;</span>,</span>
<span id="cb342-5"><a href="swatfarmr-management-schedules.html#cb342-5" aria-hidden="true" tabindex="-1"></a>                        <span class="at">full.names =</span> T)</span>
<span id="cb342-6"><a href="swatfarmr-management-schedules.html#cb342-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb342-7"><a href="swatfarmr-management-schedules.html#cb342-7" aria-hidden="true" tabindex="-1"></a>cli_files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="st">&quot;model_data/cs10_setup/optain-cs10/&quot;</span>,</span>
<span id="cb342-8"><a href="swatfarmr-management-schedules.html#cb342-8" aria-hidden="true" tabindex="-1"></a>                        <span class="at">pattern =</span> <span class="st">&quot;.cli&quot;</span>,</span>
<span id="cb342-9"><a href="swatfarmr-management-schedules.html#cb342-9" aria-hidden="true" tabindex="-1"></a>                        <span class="at">full.names =</span> T)</span>
<span id="cb342-10"><a href="swatfarmr-management-schedules.html#cb342-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb342-11"><a href="swatfarmr-management-schedules.html#cb342-11" aria-hidden="true" tabindex="-1"></a>input_files_base <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="st">&quot;model_data/cs10_setup/swat_input/&quot;</span>,</span>
<span id="cb342-12"><a href="swatfarmr-management-schedules.html#cb342-12" aria-hidden="true" tabindex="-1"></a>                               <span class="at">full.names =</span> T)</span>
<span id="cb342-13"><a href="swatfarmr-management-schedules.html#cb342-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb342-14"><a href="swatfarmr-management-schedules.html#cb342-14" aria-hidden="true" tabindex="-1"></a>source_files <span class="ot">&lt;-</span> <span class="fu">c</span>(sta_files, cli_files, input_files_base)</span>
<span id="cb342-15"><a href="swatfarmr-management-schedules.html#cb342-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb342-16"><a href="swatfarmr-management-schedules.html#cb342-16" aria-hidden="true" tabindex="-1"></a>status <span class="ot">&lt;-</span> <span class="fu">file.copy</span>(<span class="at">from =</span> source_files,</span>
<span id="cb342-17"><a href="swatfarmr-management-schedules.html#cb342-17" aria-hidden="true" tabindex="-1"></a>                    <span class="at">to =</span> <span class="st">&quot;model_data/cs10_setup/swat_farmR/&quot;</span>,</span>
<span id="cb342-18"><a href="swatfarmr-management-schedules.html#cb342-18" aria-hidden="true" tabindex="-1"></a>                    <span class="at">overwrite =</span> T)</span>
<span id="cb342-19"><a href="swatfarmr-management-schedules.html#cb342-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb342-20"><a href="swatfarmr-management-schedules.html#cb342-20" aria-hidden="true" tabindex="-1"></a><span class="co"># overwriting the base files with our modifications</span></span>
<span id="cb342-21"><a href="swatfarmr-management-schedules.html#cb342-21" aria-hidden="true" tabindex="-1"></a>input_files_mod <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="st">&quot;model_data/cs10_setup/swat_input_mod/&quot;</span>,</span>
<span id="cb342-22"><a href="swatfarmr-management-schedules.html#cb342-22" aria-hidden="true" tabindex="-1"></a>                              <span class="at">full.names =</span> T)</span>
<span id="cb342-23"><a href="swatfarmr-management-schedules.html#cb342-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb342-24"><a href="swatfarmr-management-schedules.html#cb342-24" aria-hidden="true" tabindex="-1"></a>status_mod <span class="ot">&lt;-</span> <span class="fu">file.copy</span>(<span class="at">from =</span> input_files_mod, </span>
<span id="cb342-25"><a href="swatfarmr-management-schedules.html#cb342-25" aria-hidden="true" tabindex="-1"></a>                        <span class="at">to =</span> <span class="st">&quot;model_data/cs10_setup/swat_farmR/&quot;</span>,</span>
<span id="cb342-26"><a href="swatfarmr-management-schedules.html#cb342-26" aria-hidden="true" tabindex="-1"></a>                        <span class="at">overwrite =</span> T)</span></code></pre></div>
<p>If the FarmR has never been initialized, then use <code>new_farmr()</code> and
<code>read_management()</code>, otherwise <code>load_farmr()</code>.</p>
<div class="sourceCode" id="cb343"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb343-1"><a href="swatfarmr-management-schedules.html#cb343-1" aria-hidden="true" tabindex="-1"></a>project_path <span class="ot">&lt;-</span> <span class="st">&quot;model_data/cs10_setup/swat_farmr/&quot;</span></span>
<span id="cb343-2"><a href="swatfarmr-management-schedules.html#cb343-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb343-3"><a href="swatfarmr-management-schedules.html#cb343-3" aria-hidden="true" tabindex="-1"></a><span class="fu">new_farmr</span>(<span class="at">project_name =</span> <span class="st">&quot;cs10&quot;</span>, <span class="at">project_path =</span> project_path )</span>
<span id="cb343-4"><a href="swatfarmr-management-schedules.html#cb343-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb343-5"><a href="swatfarmr-management-schedules.html#cb343-5" aria-hidden="true" tabindex="-1"></a><span class="co">#load_farmr(...)</span></span>
<span id="cb343-6"><a href="swatfarmr-management-schedules.html#cb343-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb343-7"><a href="swatfarmr-management-schedules.html#cb343-7" aria-hidden="true" tabindex="-1"></a>cs10<span class="sc">$</span><span class="fu">read_management</span>(<span class="at">file =</span> <span class="st">&quot;model_data/input/management/farmR_input2.csv&quot;</span>)</span></code></pre></div>
</div>
<div id="calculating-antecedent-precipitation-index" class="section level2 hasAnchor" number="10.3">
<h2><span class="header-section-number">10.3</span> Calculating Antecedent Precipitation Index<a href="swatfarmr-management-schedules.html#calculating-antecedent-precipitation-index" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>TODO loading API from section REF</p>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb344-1"><a href="swatfarmr-management-schedules.html#cb344-1" aria-hidden="true" tabindex="-1"></a><span class="co"># using temp API</span></span>
<span id="cb344-2"><a href="swatfarmr-management-schedules.html#cb344-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb344-3"><a href="swatfarmr-management-schedules.html#cb344-3" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">TODO</span><span class="co"> add real API</span></span>
<span id="cb344-4"><a href="swatfarmr-management-schedules.html#cb344-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb344-5"><a href="swatfarmr-management-schedules.html#cb344-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Load dplyr. We will use functions such as &#39;mutate&#39; and &#39;select&#39;.</span></span>
<span id="cb344-6"><a href="swatfarmr-management-schedules.html#cb344-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb344-7"><a href="swatfarmr-management-schedules.html#cb344-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the precipitation from the farmr project</span></span>
<span id="cb344-8"><a href="swatfarmr-management-schedules.html#cb344-8" aria-hidden="true" tabindex="-1"></a>pcp <span class="ot">&lt;-</span> cs10<span class="sc">$</span>.data<span class="sc">$</span>variables<span class="sc">$</span>pcp</span>
<span id="cb344-9"><a href="swatfarmr-management-schedules.html#cb344-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb344-10"><a href="swatfarmr-management-schedules.html#cb344-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the hydrologic soil group values for all HRUs</span></span>
<span id="cb344-11"><a href="swatfarmr-management-schedules.html#cb344-11" aria-hidden="true" tabindex="-1"></a>hsg <span class="ot">&lt;-</span> <span class="fu">select</span>(cs10<span class="sc">$</span>.data<span class="sc">$</span>meta<span class="sc">$</span>hru_attributes, hru, hyd_grp)</span>
<span id="cb344-12"><a href="swatfarmr-management-schedules.html#cb344-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb344-13"><a href="swatfarmr-management-schedules.html#cb344-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate api values for the hsg classes A to D</span></span>
<span id="cb344-14"><a href="swatfarmr-management-schedules.html#cb344-14" aria-hidden="true" tabindex="-1"></a>api_A <span class="ot">&lt;-</span> <span class="fu">variable_decay</span>(<span class="at">variable =</span> pcp, <span class="at">n_steps =</span> <span class="sc">-</span><span class="dv">5</span>, <span class="at">decay_rate =</span> <span class="dv">1</span>)</span>
<span id="cb344-15"><a href="swatfarmr-management-schedules.html#cb344-15" aria-hidden="true" tabindex="-1"></a>api_B <span class="ot">&lt;-</span> <span class="fu">variable_decay</span>(<span class="at">variable =</span> pcp, <span class="at">n_steps =</span> <span class="sc">-</span><span class="dv">5</span>, <span class="at">decay_rate =</span> <span class="fl">0.8</span>)</span>
<span id="cb344-16"><a href="swatfarmr-management-schedules.html#cb344-16" aria-hidden="true" tabindex="-1"></a>api_C <span class="ot">&lt;-</span> <span class="fu">variable_decay</span>(<span class="at">variable =</span> pcp, <span class="at">n_steps =</span> <span class="sc">-</span><span class="dv">5</span>, <span class="at">decay_rate =</span> <span class="fl">0.7</span>)</span>
<span id="cb344-17"><a href="swatfarmr-management-schedules.html#cb344-17" aria-hidden="true" tabindex="-1"></a>api_D <span class="ot">&lt;-</span> <span class="fu">variable_decay</span>(<span class="at">variable =</span> pcp, <span class="at">n_steps =</span> <span class="sc">-</span><span class="dv">5</span>, <span class="at">decay_rate =</span> <span class="fl">0.5</span>)</span>
<span id="cb344-18"><a href="swatfarmr-management-schedules.html#cb344-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb344-19"><a href="swatfarmr-management-schedules.html#cb344-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Bind the data together into one api table and name them with the hsgs</span></span>
<span id="cb344-20"><a href="swatfarmr-management-schedules.html#cb344-20" aria-hidden="true" tabindex="-1"></a>api <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(api_A, api_B, api_C, api_D)</span>
<span id="cb344-21"><a href="swatfarmr-management-schedules.html#cb344-21" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(api) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;api_A&#39;</span>, <span class="st">&#39;api_B&#39;</span>, <span class="st">&#39;api_C&#39;</span>, <span class="st">&#39;api_D&#39;</span>)</span>
<span id="cb344-22"><a href="swatfarmr-management-schedules.html#cb344-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb344-23"><a href="swatfarmr-management-schedules.html#cb344-23" aria-hidden="true" tabindex="-1"></a><span class="co"># To add the variable to the farmR you have to tell it which variables are</span></span>
<span id="cb344-24"><a href="swatfarmr-management-schedules.html#cb344-24" aria-hidden="true" tabindex="-1"></a><span class="co"># assigned to which HRUs</span></span>
<span id="cb344-25"><a href="swatfarmr-management-schedules.html#cb344-25" aria-hidden="true" tabindex="-1"></a>hru_asgn <span class="ot">&lt;-</span> <span class="fu">mutate</span>(hsg, <span class="at">api =</span> <span class="fu">paste0</span>(<span class="st">&#39;api_&#39;</span>, hyd_grp)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(hru, api)</span>
<span id="cb344-26"><a href="swatfarmr-management-schedules.html#cb344-26" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb344-27"><a href="swatfarmr-management-schedules.html#cb344-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Add the variable api to the farmR project</span></span>
<span id="cb344-28"><a href="swatfarmr-management-schedules.html#cb344-28" aria-hidden="true" tabindex="-1"></a>cs10<span class="sc">$</span><span class="fu">add_variable</span>(<span class="at">data =</span> api, <span class="at">name =</span> <span class="st">&#39;api&#39;</span>, <span class="at">assign_unit =</span> hru_asgn, <span class="at">overwrite =</span> T)</span></code></pre></div>
<p>TODO</p>
</div>
<div id="scheduling-operations" class="section level2 hasAnchor" number="10.4">
<h2><span class="header-section-number">10.4</span> Scheduling Operations<a href="swatfarmr-management-schedules.html#scheduling-operations" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb345"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb345-1"><a href="swatfarmr-management-schedules.html#cb345-1" aria-hidden="true" tabindex="-1"></a>cs10<span class="sc">$</span><span class="fu">schedule_operations</span>(<span class="at">start_year =</span> <span class="dv">2011</span>, <span class="at">end_year =</span> <span class="dv">2020</span>, <span class="at">n_schedule =</span> <span class="dv">2</span>)</span></code></pre></div>
<div id="write-operations" class="section level3 hasAnchor" number="10.4.1">
<h3><span class="header-section-number">10.4.1</span> Write Operations<a href="swatfarmr-management-schedules.html#write-operations" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We cannot write from 1988 as it is limited to our climate data, which currently
only spans back to 2010 (2011?)</p>
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb346-1"><a href="swatfarmr-management-schedules.html#cb346-1" aria-hidden="true" tabindex="-1"></a>cs10<span class="sc">$</span><span class="fu">write_operations</span>(<span class="at">start_year =</span> <span class="dv">2011</span>, <span class="at">end_year =</span> <span class="dv">2020</span>)</span></code></pre></div>
<p>“Writing management files:
- Loading scheduled operations: 100%<br />
- Preparing ‘hru-data.hru’
- Preparing ‘landuse.lum’
- Preparing ‘schedule.mgt’
- Preparing ‘plant.ini’
- Writing files
- Updating ‘time.sim’
- Updating ‘file.cio’
Finished writing management files in 5M 40S”</p>
<p>Make sure to use the files in the SWATfarmR directory going forward.</p>
<p>Test to see if the setup still works:</p>
<div class="sourceCode" id="cb347"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb347-1"><a href="swatfarmr-management-schedules.html#cb347-1" aria-hidden="true" tabindex="-1"></a><span class="co"># No it does not </span></span>
<span id="cb347-2"><a href="swatfarmr-management-schedules.html#cb347-2" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">TODO</span></span></code></pre></div>
<p>See issues <a href="https://gitlab.nibio.no/moritzshore/swat-cs10/-/issues/64">#64</a> on our gitlab, and issue <a href="https://git.ufz.de/optain/wp4-integrated-assessment/swat/swat-management/-/issues/27">#27</a> on the UFZ gitlab</p>
<p><strong>Related Issues</strong></p>
<p>Update FarmR to 3.0 - <a href="https://gitlab.nibio.no/moritzshore/swat-cs10/-/issues/56">#56</a></p>
<p>No Plant ET - <a href="https://gitlab.nibio.no/moritzshore/swat-cs10/-/issues/48">#48</a></p>
<p>Schedule Ops 1988-2020 - <a href="https://gitlab.nibio.no/moritzshore/swat-cs10/-/issues/51">#51</a></p>
<p>Re-extrapolate the crop rotation - <a href="https://gitlab.nibio.no/moritzshore/swat-cs10/-/issues/47">#47</a></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="model-parameterization.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="model-verification.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/moritzshore/optain-cs10/edit/main/09-farmer.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/moritzshore/optain-cs10/blob/main/09-farmer.Rmd",
"text": null
},
"download": ["_main.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
